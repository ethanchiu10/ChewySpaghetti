// *************************************
//
//  WORKS
//
// *************************************

@import "../variables"
@import "../animations"




// *************************************
//  STYLING
// *************************************
section.works
  position: relative
  width: 100%
  height: 100%
  top: 0px
  left: 0px
  display: flex
  justify-content: center
  align-items: center


  .title
    width: 100%
    text-align: center
    z-index: 100
    mix-blend-mode: difference
    color: $cl-red-invert
    opacity: 0




  .items
    position: absolute
    top: 0
    left: 0%
    width: 100%
    height: 100%

  .item
    width: calc( (100vw - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 )
    height: calc( (100vh - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 )
    position: absolute
    top: 50%
    left: 50%
    margin-left: calc( -0.5 * (100vw - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 )
    margin-top: calc( -0.5 * (100vh - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 )
    border: 10px solid black
    cursor: pointer

    // @media (orientation: landscape)
    //   border-width: 1vw
    // @media (orientation: portrait)
    //   border-width: 1vh

    @for $i from 1 through 9
      &:nth-child(#{$i})
        $col: floor( ($i - 1) / 3 )
        $row: ($i - 1) % 3

        // $x: $row * 27vw
        // $y: $col * 28vh

        @if $col == 0
          $x: calc( -50vw + ( (100vw - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 ) / 2 + #{$frame * 2} + 10px )
        @if $col == 1
          $x:  0px
        @if $col == 2
          $x: calc( 50vw - ( (100vw - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 ) / 2 - #{$frame * 2} - 10px )
        // $x: 0


        @if $row == 0
          $y: calc( -50vh + (( (100vh - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 ) / 2) + #{$frame * 2} + 10px)
        @if $row == 1
          $y: 0px
        @if $row == 2
          $y: 0px
          $y: calc( 50vh - (( (100vh - (#{ $frame * 2 } + 10px) * 2 - #{$frame * 2}) / 3 ) / 2) - #{$frame * 2} - 10px)

        transform: translate( $x, $y )

    .wrap
      width: 100%
      height: 100%
      opacity: 0.6

      img
        width: 100%
        height: 100%
        object-fit: cover
        filter: grayscale(1)
        transition: all 0.5s ease 0s

    .desc
      position: absolute
      width: 100%
      height: 100%
      top: 0
      left: 0
      display: flex
      justify-content: center
      align-items: center
      text-align: center

      >*
        color: black
        font-weight: 800
        transition: all 0.5s ease 0s


    &:hover
      border-color: $cl-red
      .wrap
        opacity: 1
      .desc h1
        color: $cl-red







// *************************************
//  ANIMATION
// *************************************
.view-animate.works

  &.ng-enter
    $duration: 1.5s
    $delay: 0s
    $offset: 0.4s
    transition: all $offset * 9 + 1s ease $delay


    &.ng-enter-active
      .title
        animation: title-enter 2s ease 0s

      .items
        opacity: 1









  &.ng-leave

    $duration: 1.5s
    $delay: 0.3s

    transition: all $duration ease 0s
    opacity: 1

    &.ng-leave-active
      opacity: 0

