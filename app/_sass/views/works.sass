// *************************************
//
//  WORKS
//
// *************************************

@import "../variables"
@import "../animations"




// *************************************
//  STYLING
// *************************************
section.works
  position: relative
  width: 100%
  height: 100%
  top: 0px
  left: 0px
  display: flex
  justify-content: center
  align-items: center
  // display: none !important


  .title
    width: 100%
    text-align: center
    z-index: 100
    mix-blend-mode: $blend-mode
    color: $cl-main-invert
    opacity: 0



  $num-items: 4
  $item-height: 100% / $num-items


  .item
    position: absolute
    left: 0
    width: 100%
    height: 100%
    overflow: hidden



    .clip-wrap
      width: 100%
      height: $item-height
      cursor: pointer
      background-color: $cl-contrast

      position: relative
      display: flex
      flex-direction: column
      justify-content: center


    h1, h3
      color: $cl-bg

    h1
      margin-bottom: 0.5%



    @for $i from 1 through 6
      &:nth-child(#{$i})
        top: $item-height * ( $i - 1 )

    &:nth-child(odd)
      .clip-wrap
        align-items: flex-start
        clip-path: polygon( 0% 0%, 100% 50%, 0% 100%, 0% 0% )

      h1, h3
        padding-left: $frame * 2 + $frame-thickness

    &:nth-child(even)
      .clip-wrap
        align-items: flex-end
        clip-path: polygon( 100% 0%, 0% 50%, 100% 100% )

      h1, h3
        padding-right: $frame * 2 + $frame-thickness





// *************************************
//  ANIMATION
// *************************************
.view-animate.works

  &.ng-enter
    $duration: 1.5s
    $delay: 0s
    $offset: 0.4s
    transition: all $offset * 9 + 1s ease $delay


    .item
      &:nth-child(odd)
        transform: translateX(-100%)

      &:nth-child(even)
        transform: translateX(100%)


    &.ng-enter-active
      .title
        animation: title-enter 2s ease 0s

      .item
        transform: none
        @for $i from 1 through 6
          &:nth-child(#{$i})
            transition: transform 0.6s $ease-out-expo (2s + 0.2s * $i)










  &.ng-leave

    $duration: 1.5s
    $delay: 0.3s

    transition: all $duration ease 0s
    opacity: 1

    &.ng-leave-active
      opacity: 0

