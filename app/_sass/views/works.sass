// *************************************
//
//  WORKS
//
// *************************************

@import "../variables"
@import "../animations"




// *************************************
//  STYLING
// *************************************
section.works
  position: relative
  width: 100%
  height: 100%
  top: 0px
  left: 0px
  display: flex
  justify-content: center
  align-items: center
  // display: none !important


  .title
    width: 100%
    text-align: center
    z-index: 100
    mix-blend-mode: $blend-mode
    color: $cl-main-i
    opacity: 0



  $num-items: 4
  $item-height: 100% / $num-items


  .items
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    overflow: hidden

    &::-webkit-scrollbar
      display: none

  .item
    position: absolute
    width: 100%
    height: $item-height
    max-height: $item-height
    cursor: pointer

    @for $i from 0 through 3
      &.order-#{$i}
        top: 25% * $i

    svg
      position: absolute
      fill: $cl-main

    .hover
      fill: $cl-main-c
      pointer-events: none
      transition: transform 0.5s ease 0s
      display: none


    .content
      color: $cl-bg
      z-index: 100
      width: 100%
      height: 100%
      position: relative
      display: flex
      flex-direction: row
      align-items: center

      &:before
        content: ''
        flex: 1

      &:after
        content: ''
        flex: 1


      .company-wrap
        display: flex
        &:before, &:after
          content: ''
          transition: all 0.5s ease 0s







    &.order-0, &.order-2
      svg
        clip-path: polygon(0% 0%, 100% 50%, 100% 50%, 0% 100%)
      .hover
        left: -100%
      &:hover .hover
        transform: translateX(100%)
      .content
        justify-content: flex-start
        &:before
          flex: 0
        .content-wrap
          padding-left: $frame * 2 + $frame-thickness
        .company-wrap
          &:after
            flex: 1

    &.order-1, &.order-3
      svg
        clip-path: polygon(100% 0%, 0% 50%, 0% 50%, 100% 100%)
      .hover
        right: -100%
      &:hover .hover
        transform: translateX(-100%)
      .content
        justify-content: flex-end
        &:after
          flex: 0
        .content-wrap
          padding-right: $frame * 2 + $frame-thickness
        .company-wrap
          &:before
            flex: 1





  // SELECT ANIMATION
  .item

    &.anim-out-up
      transition: all 1s ease 0s !important
      transform: translateY(-100vh)

    &.anim-out-down
      transition: all 1s ease 0s !important
      transform: translateY(100vh)

    &.selected
      top: 0
      height: 100%
      max-height: 100%
      transition: all 0.5s ease 1s !important
      // .content
      //   padding: 0
      //   transition: all 0.5s ease 0s

      svg
        transition: all 0.5s ease 0s



      &.order-0, &.order-2
        svg
          clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)
        .content
          &:before, &:after, .content-wrap
            transition: all 0.5s ease 0s

          &:before
            flex: 1
          .content-wrap
            padding: 0
          .company-wrap
            &:before
              flex: 1
              transition: all 0.5s ease 0s


      &.order-1, &.order-3
        svg
          clip-path: polygon(100% 0%, 0% 0%, 0% 100%, 100% 100%)
        .content
          &:before, &:after, .content-wrap
            transition: all 0.5s ease 0s

          &:after
            flex: 1
          .content-wrap
            padding: 0
          .company-wrap
            &:after
              flex: 1
              transition: all 0.5s ease 0s









  // PAGE UP/DOWN ANIMATION
  .items

    $delay: 0.1s

    .item

      &.ng-enter, &.ng-leave
        .hover
          transform: none !important


    &.up .item

      &.ng-enter
        transform: translateY(100vh)

        @for $i from 0 through 3
          &.order-#{$i}
            transition: all 0.6s ease ($delay * $i + $delay * 4)

        &.ng-enter-active
          transform: none

      &.ng-leave
        transform: none

        @for $i from 0 through 3
          &.order-#{$i}
            transition: all 0.6s ease $delay * $i

        &.ng-leave-active
          transform: translateY(-100vh)


    &.down .item

      &.ng-enter
        transform: translateY(-100vh)

        @for $i from 0 through 3
          &.order-#{$i}
            transition: all 0.6s ease ($delay * (3 - $i) + $delay * 4)

        &.ng-enter-active
          transform: none

      &.ng-leave
        transform: none

        @for $i from 0 through 3
          &.order-#{$i}
            transition: all 0.6s ease $delay * (3 - $i)

        &.ng-leave-active
          transform: translateY(100vh)







// *************************************
//  ANIMATION
// *************************************
.view-animate.works

  &.ng-enter
    $title-dur: 2s
    $duration: 0.6s
    $delay: 0.2s
    transition: all ($title-dur / 2 + $delay * 3 + $duration) ease 0s

    // ul
    //   overflow: hidden

    .item
      &.order-0, &.order-2
        transform: translateX(-100%)

      &.order-1, &.order-3
        transform: translateX(100%)


    &.ng-enter-active
      .title
        animation: title-enter $title-dur ease 0s

      .item
        transform: none
        @for $i from 1 through 4
          &:nth-child(#{$i})
            transition: transform $duration $ease-out-expo ($title-dur / 2 + 0.2s * ($i - 1))





  &.ng-leave

    $duration: 1.5s
    $delay: 0.3s

    transition: all $duration ease 0s
    opacity: 1

    &.ng-leave-active
      opacity: 0

