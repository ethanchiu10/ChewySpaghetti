// *************************************
//
//  WORKS
//
// *************************************

@import "../variables"
@import "../animations"




// *************************************
//  STYLING
// *************************************
section.works
  position: relative
  width: 100%
  height: 100%
  top: 0px
  left: 0px
  display: flex
  justify-content: center
  align-items: center


  h1
    width: 100%
    text-align: center
    z-index: 100
    mix-blend-mode: difference
    color: $cl-red-invert




  .circles
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%

  .circle
    // background: black
    border: 1px solid $cl-red-invert
    width: 10vw
    height: 10vw
    border-radius: 50%
    display: inline-block
    position: absolute
    top: 50%
    left: 50%
    margin-left: -5vw
    margin-top: -5vw
    mix-blend-mode: difference


  @for $i from 1 through 9
    .circle:nth-child(#{$i})
      $col: floor( ($i - 1) / 3 ) - 1
      $row: ($i - 1) % 3 - 1

      $x: $row * 25vw
      $y: $col * 25vh

      transform: translate( $x, $y )













// *************************************
//  ANIMATION
// *************************************
.view-animate.works

  &.ng-enter
    $duration: 1.5s
    $delay: 0s
    $offset: 0.4s
    transition: all $offset * 9 + 1s ease $delay


    h1
      filter: blur(10px)
      opacity: 0.5

    .circle
      transform: none


    &.ng-enter-active
      h1
        filter: none
        opacity: 1
        transition: all $duration ease 0s


      $ordering: 1, 2, 3, 6, 9, 8, 7, 4, 5

      @for $i from 1 through 9

        $col: floor( ($i - 1) / 3 )
        $row: ($i - 1) % 3
        $x: ($row - 1) * 25vw
        $y: ($col - 1) * 25vh

        @keyframes circle-enter-#{$i}
          0%
            transform: none
          100%
            transform: translate( $x, $y )


        .circle:nth-child(#{$i})

          $order: index($ordering, $i)
          $d: $offset * $order

          animation: circle-enter-#{$i} $offset ease $d 1 normal forwards




  &.ng-leave

    $duration: 1.5s
    $delay: 0.3s

    transition: all $duration ease 0s
    opacity: 1

    &.ng-leave-active
      opacity: 0

